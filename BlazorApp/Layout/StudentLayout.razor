@inherits LayoutComponentBase
@using Shared.Types
@using DTOs

<div class="admin-layout">
    <aside class="admin-sidebar">
        <div class="brand">Estudiante</div>

        <nav class="nav">
            <a class="nav-link" href="/student/enroll">Inscribirse</a>
            <a class="nav-link" href="/student/subjects">Materias</a>
            <a class="nav-link" href="/student/profile">Perfil</a>
        </nav>

        <div class="sidebar-footer">
            <button class="btn-ghost" @onclick="Logout">Cerrar sesión</button>
        </div>
    </aside>

    <main class="admin-main">
        @Body
    </main>
</div>

@code {
    [Inject] public IAuthService AuthService { get; set; } = default!;
    [Inject] public NavigationManager Nav { get; set; } = default!;

    private async Task Logout()
    {
        await AuthService.LogoutAsync();
        Nav.NavigateTo("/", true);
    }
}